---
title: 蓝桥杯单片机编程技巧
toc: true
date: 2025-03-27 13:57:10
categories: 嵌入式
tags:
  - 单片机
  - 嵌入式
---
## 前言
最近准备给班级介绍一下蓝桥杯单片机的比赛经验，把我去年自己研究的单片机比赛常用的编程技巧分享给大家，提升编程效率和效果。本篇文章同步介绍有关内容。
<!-- more -->
## 概述
蓝桥杯使用的单片机芯片型号是IAP15F2K61S2，属于STC15F系列，是STC15F系列的最高级别芯片。他还有一个姊妹芯片叫做STC15F2K60S2。两颗芯片几乎一模一样，最大的区别是前者支持单芯片在线仿真调试，后者不支持。所以，编程的时候，如果找不到IAP15F2K61S2的相关资料，可以直接用STC15F2K60S2的，他们的外设、内核都一样，代码是互通的。
蓝桥杯单片机主要考察的点有：IO口操作、I2C总线、One-Wire总线、计数器/定时器、芯片自定义总线、UART串口等。下表详细介绍这些知识点所对应的功能：

|   知识点    |  外围芯片   |    功能     |
| :------: | :-----: | :-------: |
|  IO口操作   |    \    |   按键扫描    |
|  IO口操作   | 译码器、锁存器 |   数码管显示   |
|  IO口操作   | 译码器、锁存器 |    LED    |
|  IO口操作   | 译码器、锁存器 |    蜂鸣器    |
|  IO口操作   | 译码器、锁存器 |    继电器    |
|  I2C总线   | PCF8591 |   电位器输入   |
|  I2C总线   | PCF8591 |   光敏电阻    |
|  I2C总线   | PCF8591 |   DAC输出   |
|  I2C总线   | AT24C02 |  EEPROM   |
| One-Wire | DS18B20 |   温度检测    |
|   计数器    |  NE555  |   频率检测    |
|   定时器    | CX20106 |   超声波测距   |
|   特殊总线   | DS1302  | 实时时钟(RTC) |
|  UART总线  |    \    |   上位机通信   |
近年的蓝桥杯题目，基本上会同时考察上面所有内容。而且不同的功能之间会有联系，比如、
## 频率检测
### 原理
Timer0
```c
void FreqA()
{
	AUXR &= 0xEF;	//关闭Timer2
	freqValue = (TH2 << 8) + TL2;
	TH2 = 0;
	TL2 = 0;
	AUXR |= 0x10;	//开启Timer2
}

void Timer0_Interrupt() interrupt 1
{
	FreqA();
}
```